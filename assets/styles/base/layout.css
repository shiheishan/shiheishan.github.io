.app{ height:100dvh; display:grid; grid-template-rows:auto 1fr; gap:var(--gap);
      padding:var(--gap) var(--gap) calc(96px + env(safe-area-inset-bottom));
      max-width:var(--maxw); margin:0 auto; }
.card.time-card{
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border:1px solid var(--border);
  display:flex; align-items:center; justify-content:center;
  padding:var(--gap);
  font-weight:700; text-align:center;
}
.card.panel{ background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
        display:flex; flex-direction:column; min-height:0; overflow:hidden; position:relative; }
.panel__body{ flex:1; min-height:0; overflow-y:auto; scrollbar-gutter:stable; padding:var(--gap);
        padding-bottom:calc(var(--gap) + 6rem); position:relative; }
@supports not (scrollbar-gutter:stable){
  .panel__body{ overflow-y:scroll; padding-right:calc(var(--gap) + 8px); }
}
.panel__blur{
  --blur-height: 6rem;
  --blur-strength: 18px;
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  height:var(--blur-height);
  pointer-events:none;
  backdrop-filter:blur(var(--blur-strength));
  -webkit-backdrop-filter:blur(var(--blur-strength));
  background:linear-gradient(180deg,
    rgba(255,255,255,0) 0%,
    rgba(245,245,247,0.65) 35%,
    rgba(245,245,247,0.94) 100%);
  mask-image:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 28%, rgba(0,0,0,0.65) 54%, rgba(0,0,0,1) 100%);
  -webkit-mask-image:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 28%, rgba(0,0,0,0.65) 54%, rgba(0,0,0,1) 100%);
  opacity:0;
  visibility:hidden;
  transition:opacity var(--dur-med) var(--ease-standard), visibility var(--dur-med) var(--ease-standard);
  will-change:opacity;
  z-index:1;
}

.panel__blur::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at center, rgba(255,255,255,0.35), rgba(255,255,255,0) 65%);
  opacity:0.65;
}

.panel__blur[data-state="visible"]{
  opacity:calc(var(--blur-progress, 1));
  visibility:visible;
}

.panel__blur[data-state="visible"]::before{
  opacity:calc(0.45 + 0.2 * var(--blur-progress, 1));
}

@supports not ((backdrop-filter:blur(1px)) or (-webkit-backdrop-filter:blur(1px))){
  .panel__blur{
    background:linear-gradient(180deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0.6) 36%,
      rgba(245,245,247,0.96) 100%);
  }
}

@media (prefers-color-scheme: dark){
  .panel__blur{
    background:linear-gradient(180deg,
      rgba(0,0,0,0) 0%,
      rgba(20,20,22,0.55) 34%,
      rgba(20,20,22,0.9) 100%);
  }
  @supports ((backdrop-filter:blur(1px)) or (-webkit-backdrop-filter:blur(1px))){
    .panel__blur{
      background:linear-gradient(180deg,
        rgba(0,0,0,0) 0%,
        rgba(20,20,22,0.55) 34%,
        rgba(20,20,22,0.9) 100%);
    }
  }
}
#ion-canvas{ display:none; position:absolute; top:0; left:0; pointer-events:none; width:100%; height:100%; }
.modal.done-screen{ position:absolute; inset:0; display:none; align-items:center; justify-content:center; text-align:center; padding:24px; }
.show-done .modal{ display:flex; }
.modal .card{ background:#fff; border:1px solid var(--border); border-radius:22px; padding:28px 22px; box-shadow:0 12px 26px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.5); }
.modal h1{ margin:0 0 6px; font-size:22px; }
.modal p{ margin:0; color:var(--muted); }

.app{
  max-width: 520px;
  margin-inline: auto;
  padding-inline: 16px;
}
